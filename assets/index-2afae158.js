import{g as x,a as T,b as A,c as l}from"./lib-978bb9d3.js";const _="help_shown";function S(){const e=document.createElement("button");return e.classList.add("help-button"),e.innerHTML="?",e.setAttribute("aria-label","Help"),e}function j(){const e=document.createElement("div");e.classList.add("help-overlay");const t=document.createElement("div");t.classList.add("help-popup");const o=document.createElement("button");o.classList.add("help-popup__close"),o.innerHTML="âœ•",o.setAttribute("aria-label","Close");const c=document.createElement("div");c.classList.add("help-popup__demo");const s=document.createElement("div");s.classList.add("help-popup__hands");const d=document.createElement("div");d.classList.add("help-popup__hand"),d.innerHTML="&#x1FAF2;";const n=document.createElement("div");n.classList.add("help-popup__hand"),n.innerHTML="&#x1FAF1;",s.appendChild(d),s.appendChild(n),c.appendChild(s);const i=document.createElement("h2");i.classList.add("help-popup__title"),i.textContent="Emerji";const p=document.createElement("p");p.classList.add("help-popup__description"),p.textContent="Merge emojis to create new combinations and score points!";const a=document.createElement("h3");a.classList.add("help-popup__instructions-title"),a.textContent="How to Play";const u=document.createElement("ul");u.classList.add("help-popup__instructions");const h=document.createElement("li");h.classList.add("help-popup__instruction");const k=document.createElement("div");k.classList.add("help-popup__icon"),k.innerHTML=`
    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 16L8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10L12 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 12L12 8C12 6.89543 12.8954 6 14 6C15.1046 6 16 6.89543 16 8L16 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M16 12L16 9C16 7.89543 16.8954 7 18 7C19.1046 7 20 7.89543 20 9L20 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M20 13L20 11C20 9.89543 20.8954 9 22 9C23.1046 9 24 9.89543 24 11L24 18C24 22 21 25 17 25L12 25C9 25 7 23 7 20L7 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M6 16L2 16M2 16L4 14M2 16L4 18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M26 16L30 16M30 16L28 14M30 16L28 18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M14 6L14 2M14 2L12 4M14 2L16 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M14 26L14 30M14 30L12 28M14 30L16 28" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  `;const C=document.createElement("span");C.textContent="On mobile: use swipe gestures to move emoji icons",h.appendChild(k),h.appendChild(C);const m=document.createElement("li");m.classList.add("help-popup__instruction");const w=document.createElement("div");w.classList.add("help-popup__icon"),w.innerHTML=`
    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="13" y="2" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"/>
      <path d="M16 4L16 6M14.5 5L17.5 5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
      <rect x="2" y="13" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"/>
      <path d="M4 16L6 16M5 14.5L5 17.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
      <rect x="13" y="13" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"/>
      <path d="M16 15L16 17M14.5 16L17.5 16" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
      <rect x="24" y="13" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"/>
      <path d="M26 16L28 16M27 14.5L27 17.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
    </svg>
  `;const g=document.createElement("span");return g.textContent="On desktop: use arrow keys to move emoji icons",m.appendChild(w),m.appendChild(g),u.appendChild(h),u.appendChild(m),t.appendChild(o),t.appendChild(c),t.appendChild(i),t.appendChild(p),t.appendChild(a),t.appendChild(u),e.appendChild(t),e}function I(){const e=S(),t=j(),o=t.querySelector(".help-popup__hands");document.body.appendChild(e),document.body.appendChild(t);const c=t.querySelector(".help-popup__close");let s=!1;const d=()=>{o.classList.remove("collapsed"),o.classList.remove("merged"),o.classList.remove("permanently-merged")},n=()=>{t.classList.add("active"),s=!0,d(),Y(o)},i=()=>{t.classList.remove("active"),s=!1,v()};return e.addEventListener("click",n),c.addEventListener("click",i),t.addEventListener("click",a=>{a.target===t&&i()}),localStorage.getItem(_)||setTimeout(()=>{n(),localStorage.setItem(_,"true")},500),{button:e,overlay:t,hands:o,isOpen:()=>s,resetHands:d}}let L=null;function Y(e){v();let t=!1;const o=()=>{t?e.classList.remove("collapsed"):e.classList.add("collapsed"),t=!t};o(),L=window.setInterval(o,1e3)}function v(){L!==null&&(clearInterval(L),L=null)}function O(e){let t=0;const o=50,c=()=>{e.classList.add("collapsed"),setTimeout(()=>{e.classList.add("merged")},250),setTimeout(()=>{e.classList.add("permanently-merged")},750)};document.body.addEventListener("keydown",n=>{(n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="ArrowLeft"||n.key==="ArrowRight")&&c()});let s=0,d=0;document.body.addEventListener("touchstart",n=>{t=Date.now(),s=n.changedTouches[0].screenX,d=n.changedTouches[0].screenY}),document.body.addEventListener("touchend",n=>{const i=n.changedTouches[0].screenX,p=n.changedTouches[0].screenY,a=Date.now()-t,u=i-s,h=p-d;a<300&&(Math.abs(u)>o||Math.abs(h)>o)&&c()})}const r=x();T(r,{selector:"#game"});A(r);const{hands:X,isOpen:M}=I();O(X);document.body.addEventListener("keydown",e=>{if(!M())switch(e.key){case"ArrowUp":l(r,"up");break;case"ArrowDown":l(r,"down");break;case"ArrowLeft":l(r,"left");break;case"ArrowRight":l(r,"right");break}});let y=0,b=0,f=0,E=0;const H=document.body;H.addEventListener("touchstart",e=>{y=e.changedTouches[0].screenX,b=e.changedTouches[0].screenY});H.addEventListener("touchend",e=>{if(M())return;f=e.changedTouches[0].screenX,E=e.changedTouches[0].screenY;const t=f-y,o=E-b;Math.abs(t)>Math.abs(o)?t>0?l(r,"right"):l(r,"left"):o>0?l(r,"down"):l(r,"up")});
